<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script>
      if(!sessionStorage.getItem('slarge-ar')) window.location.assign('index.html')
    </script>
    <script src="https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.1.4/dist/mindar-image.prod.js"></script>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <!-- <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script> -->
    <script src="https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.1.4/dist/mindar-image-aframe.prod.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/confetti-js@0.0.18/dist/index.min.js"></script>
    <script src="ar.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <canvas id="ar-canvas"></canvas>
    <div class="centered instructions">
        <img src="img/spbanner.png" alt="" />
    </div>
    <div class="feedback">
      <button class="claim-btn">Claim Prize ğŸ</button>
      <div class="no-prize">
        <p>Oops... Nothing to see here ğŸ˜¥</p>
        <p>Find Another Marker ğŸƒâ€â™€ï¸ğŸƒâ€â™‚ï¸</p>
      </div>
      <div class="loader">
        <p>Checking... Hope you get lucky ğŸ˜</p>
      </div>
    </div>
    <div class="wait" style="display: none; z-index: 10;">
      <p>Loading</p>
      <div class="spinner-border text-light spinner-border-md" role="status">
          <span class="visually-hidden">Loading...</span>
      </div>
      </div>
    </div>
    <a-scene mindar-image="imageTargetSrc: ./targets-new.mind" color-space="sRGB" renderer="colorManagement: true, physicallyCorrectLights" vr-mode-ui="enabled: false" device-orientation-permission-ui="enabled: false">
      <a-assets>
        <a-asset-item id="burger" src="models/burger/scene.gltf"></a-asset-item>
        <a-asset-item id="cheeseburger" src="models/cheese_burger/scene.gltf"></a-asset-item>
        <a-asset-item id="football1" src="models/football1/scene.gltf"></a-asset-item>
        <a-asset-item id="gift" src="models/gift/scene.gltf"></a-asset-item>
        <a-asset-item id="piggybank" src="models/piggybank/scene.gltf"></a-asset-item>
        <a-asset-item id="piggybank1" src="models/piggybank1/scene.gltf"></a-asset-item>
        <a-asset-item id="football" src="models/football/scene.gltf"></a-asset-item>
        <a-asset-item id="coin" src="models/coin/scene.gltf"></a-asset-item>
        <a-asset-item id="money" src="models/money/scene.gltf"></a-asset-item>
        <a-asset-item id="goldCoin" src="models/gold_coin/scene.gltf"></a-asset-item>
      </a-assets>

      <a-camera position="0 0 0" look-controls="enabled: false" cursor="fuse: false; rayOrigin: mouse;" raycaster="far: ${customFields.libVersion}; objects: .clickable"></a-camera>
    </a-scene>

    <script>
      // The canvas element was not found on the js file so I had to move it here
      canvas = document.getElementById('ar-canvas')
      let confettiSettings = { 
          target: 'ar-canvas',
          max: 100,
          rotate: true,
          clock: 20
      };
      let confetti = new ConfettiGenerator(confettiSettings);
        confetti.render();
    </script>
  </body>
</html>